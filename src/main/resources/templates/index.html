<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Récupération du head commun-->
    <div th:replace="fragment/common :: head">head</div>
    <title>Accueil</title>
</head>
<body>
<!-- Récupération du fragment en tête -->
<div th:replace="fragment/common :: header"> En tête </div>

<!-- Décoration de la page d'accueil par les derniers livres acquis par les bibliothèques -->
<h2 th:text="'Les derniers livres acquis par nos bibiothèques'">Les livres</h2>


<table class="table table-striped alert-primary">
    <thead>
    <tr>
        <th>Titre</th>
        <th>Isbn</th>
        <th>Lien</th>
    </tr>
    </thead>
    <tbody>

    <tr th:each="book : ${books.getContent()}">

        <td th:text="${book.getContent().getTitle()}">Bob</td>
        <td th:text="${book.getContent().getIsbn()}">Marley</td>
        <td ><a th:href="@{${book.getLink('self').get().href}}" th:text="${book.getLink('self').get().href}"></a></td>
    </tr>
    </tbody>
</table>
    <table class="table teble-striped">
        <thead>
        <tr>
            <th>next via getLink</th>
            <th>metadata</th>
            <th>page</th>
            <th>previous param</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td th:text="${books.getNextLink().get().href}"></td>
            <td th:text="${books.getMetadata().getTotalPages()}">Metadata</td>
            <td th:text="${books.getMetadata().getNumber()}">Page</td>
            <td th:text="${books.nextLink.get().getHref()}"></td>
        </tr>
        </tbody>
    </table>


<!-- Récupération du pied de page et des scripts -->
<div th:replace="fragment/common :: footer "> Pied </div>

</body>
</html>